!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@angular/core"),require("@angular/common"),require("rxjs/Observable"),require("rxjs/Subscription"),require("rxjs/add/observable/fromEvent"),require("rxjs/add/observable/merge"),require("rxjs/add/operator/mergeMap"),require("rxjs/add/operator/takeUntil"),require("rxjs/add/operator/map")):"function"==typeof define&&define.amd?define("ngx-slimscroll",["@angular/core","@angular/common","rxjs/Observable","rxjs/Subscription","rxjs/add/observable/fromEvent","rxjs/add/observable/merge","rxjs/add/operator/mergeMap","rxjs/add/operator/takeUntil","rxjs/add/operator/map"],t):"object"==typeof exports?exports["ngx-slimscroll"]=t(require("@angular/core"),require("@angular/common"),require("rxjs/Observable"),require("rxjs/Subscription"),require("rxjs/add/observable/fromEvent"),require("rxjs/add/observable/merge"),require("rxjs/add/operator/mergeMap"),require("rxjs/add/operator/takeUntil"),require("rxjs/add/operator/map")):e["ngx-slimscroll"]=t(e["@angular/core"],e["@angular/common"],e["rxjs/Observable"],e["rxjs/Subscription"],e["rxjs/add/observable/fromEvent"],e["rxjs/add/observable/merge"],e["rxjs/add/operator/mergeMap"],e["rxjs/add/operator/takeUntil"],e["rxjs/add/operator/map"])}(this,function(e,t,r,i,n,o,s,l,a){return function(e){function t(i){if(r[i])return r[i].exports;var n=r[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,i){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=2)}([function(t,r){t.exports=e},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.position=e&&e.position?e.position:"right",this.barBackground=e&&e.barBackground?e.barBackground:"#343a40",this.barOpacity=e&&e.barOpacity?e.barOpacity:"1",this.barWidth=e&&e.barWidth?e.barWidth:"12",this.barBorderRadius=e&&e.barBorderRadius?e.barBorderRadius:"5",this.barMargin=e&&e.barMargin?e.barMargin:"1px 0",this.gridBackground=e&&e.gridBackground?e.gridBackground:"#adb5bd",this.gridOpacity=e&&e.gridOpacity?e.gridOpacity:"1",this.gridWidth=e&&e.gridWidth?e.gridWidth:"8",this.gridBorderRadius=e&&e.gridBorderRadius?e.gridBorderRadius:"10",this.gridMargin=e&&e.gridMargin?e.gridMargin:"1px 2px",this.alwaysVisible=!e||void 0===e.alwaysVisible||e.alwaysVisible,this.visibleTimeout=e&&e.visibleTimeout?e.visibleTimeout:1e3}return e}();t.SlimScrollOptions=i},function(e,t,r){"use strict";function i(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0});var n=r(3);t.NgSlimScrollModule=n.NgSlimScrollModule,i(r(1)),i(r(13))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),n=r(4),o=function(){function e(){}return e.decorators=[{type:i.NgModule,args:[{declarations:[n.SlimScrollDirective],exports:[n.SlimScrollDirective]}]}],e.ctorParameters=function(){return[]},e}();t.NgSlimScrollModule=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),n=r(5),o=r(1),s=r(6),l=r(7);r(8),r(9),r(10),r(11),r(12),t.easing={linear:function(e){return e},inQuad:function(e){return e*e},outQuad:function(e){return e*(2-e)},inOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},inCubic:function(e){return e*e*e},outCubic:function(e){return--e*e*e+1},inOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},inQuart:function(e){return e*e*e*e},outQuart:function(e){return 1- --e*e*e*e},inOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},inQuint:function(e){return e*e*e*e*e},outQuint:function(e){return 1+--e*e*e*e*e},inOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};var a=function(){function e(e,t,r){var i=this;this.viewContainer=e,this.renderer=t,this.document=r,this.interactionSubscriptions=new l.Subscription,this.initWheel=function(){var e=s.Observable.fromEvent(i.el,"DOMMouseScroll"),t=s.Observable.fromEvent(i.el,"mousewheel"),r=s.Observable.merge.apply(s.Observable,[e,t]).subscribe(function(e){var t=0;e.wheelDelta&&(t=-e.wheelDelta/120),e.detail&&(t=e.detail/3),i.scrollContent(t,!0,!1),e.preventDefault&&e.preventDefault()});i.interactionSubscriptions.add(r)},this.initDrag=function(){var e=i.bar,t=s.Observable.fromEvent(i.document.documentElement,"mousemove"),r=s.Observable.fromEvent(i.document.documentElement,"touchmove"),n=s.Observable.fromEvent(e,"mousedown"),o=s.Observable.fromEvent(i.el,"touchstart"),l=s.Observable.fromEvent(i.document.documentElement,"mouseup"),a=s.Observable.fromEvent(i.document.documentElement,"touchend"),d=n.mergeMap(function(r){return i.pageY=r.pageY,i.top=parseFloat(getComputedStyle(e).top),t.map(function(e){return e.preventDefault(),i.top+e.pageY-i.pageY}).takeUntil(l)}),u=o.mergeMap(function(t){return i.pageY=t.targetTouches[0].pageY,i.top=-parseFloat(getComputedStyle(e).top),r.map(function(e){return-(i.top+e.targetTouches[0].pageY-i.pageY)}).takeUntil(a)}),p=s.Observable.merge.apply(s.Observable,[d,u]).subscribe(function(e){i.body.addEventListener("selectstart",i.preventDefaultEvent,!1),i.renderer.setElementStyle(i.body,"touch-action","pan-y"),i.renderer.setElementStyle(i.body,"user-select","none"),i.renderer.setElementStyle(i.bar,"top",e+"px");var t=i.scrollContent(0,!0,!1),r=i.el.offsetHeight-i.bar.offsetHeight;t&&t<0&&-t<=r?i.renderer.setElementStyle(i.el,"paddingTop",-t+"px"):t&&t>0&&t<=r&&i.renderer.setElementStyle(i.el,"paddingBottom",t+"px")}),c=s.Observable.merge.apply(s.Observable,[l,a]).subscribe(function(){i.body.removeEventListener("selectstart",i.preventDefaultEvent,!1);var e=parseInt(i.el.style.paddingTop,10),t=parseInt(i.el.style.paddingBottom,10);i.renderer.setElementStyle(i.body,"touch-action","unset"),i.renderer.setElementStyle(i.body,"user-select","default"),e>0?i.scrollTo(0,300,"linear"):t>0&&i.scrollTo(0,300,"linear")});i.interactionSubscriptions.add(p),i.interactionSubscriptions.add(c)},this.preventDefaultEvent=function(e){e.preventDefault(),e.stopPropagation()},this.viewContainer=e,this.el=e.element.nativeElement,this.body=this.document.querySelector("body"),this.mutationThrottleTimeout=50}return e.prototype.ngOnInit=function(){var e=this;if(this.options=new o.SlimScrollOptions(this.options),this.setElementStyle(),this.wrapContainer(),this.initGrid(),this.initBar(),this.getBarHeight(),this.initWheel(),this.initDrag(),this.options.alwaysVisible||this.hideBarAndGrid(),MutationObserver&&(this.mutationObserver=new MutationObserver(function(){e.mutationThrottleTimeout&&(clearTimeout(e.mutationThrottleTimeout),e.mutationThrottleTimeout=setTimeout(e.onMutation.bind(e),50))}),this.mutationObserver.observe(this.el,{subtree:!0,childList:!0})),this.scrollEvents&&this.scrollEvents instanceof i.EventEmitter){var t=this.scrollEvents.subscribe(function(t){return e.handleEvent(t)});this.interactionSubscriptions.add(t)}},e.prototype.ngOnDestroy=function(){this.interactionSubscriptions.unsubscribe()},e.prototype.handleEvent=function(e){if("scrollToBottom"===e.type){var t=this.el.scrollHeight-this.el.clientHeight;this.scrollTo(t,e.duration,e.easing)}else if("scrollToTop"===e.type){var t=0;this.scrollTo(t,e.duration,e.easing)}else if("scrollToPercent"===e.type&&e.percent>=0&&e.percent<=100){var t=Math.round((this.el.scrollHeight-this.el.clientHeight)/100*e.percent);this.scrollTo(t,e.duration,e.easing)}else if("scrollTo"===e.type){var t=e.y;t<=this.el.scrollHeight-this.el.clientHeight&&t>=0&&this.scrollTo(t,e.duration,e.easing)}else"recalculate"===e.type&&this.getBarHeight()},e.prototype.setElementStyle=function(){var e=this.el;this.renderer.setElementStyle(e,"overflow","hidden"),this.renderer.setElementStyle(e,"position","relative"),this.renderer.setElementStyle(e,"display","block")},e.prototype.onMutation=function(){this.getBarHeight()},e.prototype.wrapContainer=function(){this.wrapper=this.renderer.createElement(this.el,"div");var e=this.wrapper,t=this.el;this.renderer.setElementClass(e,"slimscroll-wrapper",!0),this.renderer.setElementStyle(e,"position","relative"),this.renderer.setElementStyle(e,"overflow","hidden"),this.renderer.setElementStyle(e,"display","inline-block"),this.renderer.setElementStyle(e,"margin",getComputedStyle(t).margin),this.renderer.setElementStyle(e,"width","100%"),this.renderer.setElementStyle(e,"height",getComputedStyle(t).height),t.parentNode.insertBefore(e,t),e.appendChild(t)},e.prototype.initGrid=function(){this.grid=this.renderer.createElement(this.el,"div");var e=this.grid;this.renderer.setElementClass(e,"slimscroll-grid",!0),this.renderer.setElementStyle(e,"position","absolute"),this.renderer.setElementStyle(e,"top","0"),this.renderer.setElementStyle(e,"bottom","0"),this.renderer.setElementStyle(e,this.options.position,"0"),this.renderer.setElementStyle(e,"width",this.options.gridWidth+"px"),this.renderer.setElementStyle(e,"background",this.options.gridBackground),this.renderer.setElementStyle(e,"opacity",this.options.gridOpacity),this.renderer.setElementStyle(e,"display","block"),this.renderer.setElementStyle(e,"cursor","pointer"),this.renderer.setElementStyle(e,"z-index","99"),this.renderer.setElementStyle(e,"border-radius",this.options.gridBorderRadius+"px"),this.renderer.setElementStyle(e,"margin",this.options.gridMargin),this.wrapper.appendChild(e)},e.prototype.initBar=function(){this.bar=this.renderer.createElement(this.el,"div");var e=this.bar;this.renderer.setElementClass(e,"slimscroll-bar",!0),this.renderer.setElementStyle(e,"position","absolute"),this.renderer.setElementStyle(e,"top","0"),this.renderer.setElementStyle(e,this.options.position,"0"),this.renderer.setElementStyle(e,"width",this.options.barWidth+"px"),this.renderer.setElementStyle(e,"background",this.options.barBackground),this.renderer.setElementStyle(e,"opacity",this.options.barOpacity),this.renderer.setElementStyle(e,"display","block"),this.renderer.setElementStyle(e,"cursor","pointer"),this.renderer.setElementStyle(e,"z-index","100"),this.renderer.setElementStyle(e,"border-radius",this.options.barBorderRadius+"px"),this.renderer.setElementStyle(e,"margin",this.options.barMargin),this.wrapper.appendChild(e)},e.prototype.getBarHeight=function(){var e=Math.max(this.el.offsetHeight/this.el.scrollHeight*this.el.offsetHeight,30)+"px",t=parseInt(e,10)===this.el.offsetHeight?"none":"block";this.renderer.setElementStyle(this.bar,"height",e),this.renderer.setElementStyle(this.bar,"display",t),this.renderer.setElementStyle(this.grid,"display",t)},e.prototype.scrollTo=function(e,r,i){var n=this,o=Date.now(),s=this.el.scrollTop,l=(this.el.offsetHeight,this.bar.offsetHeight,this.el.scrollHeight-this.el.clientHeight),a=Math.max(this.el.offsetHeight/this.el.scrollHeight*this.el.offsetHeight,30),d=parseInt(this.el.style.paddingTop,10)||0,u=parseInt(this.el.style.paddingBottom,10)||0,p=function(c){var h=Date.now(),m=Math.min(1,(h-o)/r),b=t.easing[i](m);if(d>0||u>0){var g=null;d>0&&(g=-d,g=-(b*(e-g)+g),n.renderer.setElementStyle(n.el,"paddingTop",g+"px")),u>0&&(g=u,g=b*(e-g)+g,n.renderer.setElementStyle(n.el,"paddingBottom",g+"px"))}else n.el.scrollTop=b*(e-s)+s;var f=n.el.scrollTop/l;if(0===u){var y=Math.round(Math.round(n.el.clientHeight*f)-a);y>0&&n.renderer.setElementStyle(n.bar,"top",y+"px")}m<1&&requestAnimationFrame(p)};requestAnimationFrame(p)},e.prototype.scrollContent=function(e,t,r){var i,n=this,o=e,s=this.el.offsetHeight-this.bar.offsetHeight,l=null;return t&&(o=parseInt(getComputedStyle(this.bar).top,10)+20*e/100*this.bar.offsetHeight,(o<0||o>s)&&(l=o>s?o-s:o),o=Math.min(Math.max(o,0),s),o=e>0?Math.ceil(o):Math.floor(o),this.renderer.setElementStyle(this.bar,"top",o+"px")),i=parseInt(getComputedStyle(this.bar).top,10)/(this.el.offsetHeight-this.bar.offsetHeight),o=i*(this.el.scrollHeight-this.el.offsetHeight),this.el.scrollTop=o,this.showBarAndGrid(),this.options.alwaysVisible||(this.visibleTimeout&&clearTimeout(this.visibleTimeout),this.visibleTimeout=setTimeout(function(){n.hideBarAndGrid()},this.options.visibleTimeout)),l},e.prototype.showBarAndGrid=function(){this.renderer.setElementStyle(this.grid,"background",this.options.gridBackground),this.renderer.setElementStyle(this.bar,"background",this.options.barBackground)},e.prototype.hideBarAndGrid=function(){this.renderer.setElementStyle(this.grid,"background","transparent"),this.renderer.setElementStyle(this.bar,"background","transparent")},e.prototype.destroy=function(){if(this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=null),this.el.parentElement.classList.contains("slimscroll-wrapper")){var e=this.el.parentElement,t=this.el.querySelector(".slimscroll-bar");this.el.removeChild(t),this.unwrap(e)}},e.prototype.unwrap=function(e){for(var t=document.createDocumentFragment();e.firstChild;){var r=e.removeChild(e.firstChild);t.appendChild(r)}e.parentNode.replaceChild(t,e)},e.prototype.onResize=function(e){this.getBarHeight()},e.decorators=[{type:i.Directive,args:[{selector:"[slimScroll]",exportAs:"slimScroll"}]}],e.ctorParameters=function(){return[{type:i.ViewContainerRef,decorators:[{type:i.Inject,args:[i.ViewContainerRef]}]},{type:i.Renderer,decorators:[{type:i.Inject,args:[i.Renderer]}]},{type:void 0,decorators:[{type:i.Inject,args:[n.DOCUMENT]}]}]},e.propDecorators={options:[{type:i.Input}],scrollEvents:[{type:i.Input}],onResize:[{type:i.HostListener,args:["window:resize",["$event"]]}]},e}();t.SlimScrollDirective=a},function(e,r){e.exports=t},function(e,t){e.exports=r},function(e,t){e.exports=i},function(e,t){e.exports=n},function(e,t){e.exports=o},function(e,t){e.exports=s},function(e,t){e.exports=l},function(e,t){e.exports=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.type=e.type,this.y=e&&e.y?e.y:0,this.percent=e&&e.percent?e.percent:0,this.duration=e&&e.duration?e.duration:0,this.easing=e&&e.easing?e.easing:"linear"}return e}();t.SlimScrollEvent=i}])});
//# sourceMappingURL=ngx-slimscroll.umd.js.map